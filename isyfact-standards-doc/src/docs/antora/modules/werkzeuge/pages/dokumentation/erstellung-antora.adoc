= Seiten anlegen

include::glossary:licence:partial$licence.adoc[]

Soll eine neue Dokumentation angelegt werden oder die bestehende Dokumentation um eine Seite erweitert werden, so muss zunÃ¤chst das xref:dokumentation/einfuehrung.adoc#struktur-dokumentation[geeignete Repository zur Ablage] bestimmt und ggf. lokal geklont werden.

[[submodul]]
== Submodul

Als Beispiel dient das Repository https://github.com/IsyFact/isyfact-standards[icon:github[] isyfact-standards].
Es enthÃ¤lt ein Submodul zur Dokumentation.
In Repositories, die noch keine Dokumentation enthalten, muss ein derartiges Submodul angelegt werden.

[[verzeichnisstruktur-submodul]]
.Repository mit Submodul zur Dokumentation
----
ğŸ“‚ isyfact-standards
  ğŸ“‚ isyfact-standards-doc <.>
----
<.> Submodul fÃ¼r die Dokumentation.


[[antora-komponente]]
== Antora-Dokumentationskomponente

Innerhalb des Submoduls wird der Pfad `src/docs/antora` angelegt.
Unterhalb dieses Pfades liegt die Antora-Dokumentationskomponente, reprÃ¤sentiert durch die Konfigurationsdatei `antora.yml`.
In Repositories, die noch keine Antora-Komponente enthalten, muss diese Konfigurationsdatei noch angelegt werden.
Ein Repository sollte jedoch nur eine Antora-Komponente enthalten.

TIP: Mehrere Antora-Komponenten hÃ¤tten unterschiedliche Versionen, die eventuell nicht mehr synchron zum Versionsstand des Repositories gehalten werden kÃ¶nnen.


[[verzeichnisstruktur-antora-komponente]]
.Verzeichnisstruktur Antora-Komponente
----
ğŸ“‚ isyfact-standards
  ğŸ“‚ isyfact-standards-doc
    ğŸ“‚ src
        ğŸ“‚ docs
            ğŸ“‚ antora
                ğŸ“„ antora.yml  <.>
----
<.> Antora Konfigurationsdatei fÃ¼r die Antora-Komponente.

In der `antora.yml`-Datei wird mindestens der Name der xref:glossary:literaturextern:inhalt.adoc#litextern-antora-komponente[Dokumentationskomponente] und ihre Version angegeben.

[[antora-modul]]
== Antora-Modul

Im gleichen Verzeichnis wie `antora.yml`, `src/docs/antora`, muss das xref:glossary:literaturextern:inhalt.adoc#litextern-antora-verzeichnisstruktur[Verzeichnis fÃ¼r die Module] liegen.

In einem Antora-Modul wird die Dokumentation eines Bausteins abgelegt oder die Dokumentation einer SÃ¤ule der IsyFact.
Unterhalb des Verzeichnisses `modules` wird ein Modul-Verzeichnis mit entsprechendem Namen abgelegt, sofern noch nicht vorhanden.

Das folgende Listing <<verzeichnisstruktur-antora-modul>> zeigt die Verzeichnisstruktur bis zum Antora-Modul.

[[verzeichnisstruktur-antora-modul]]
.Verzeichnisstruktur Antora-Modul `isy-sonderzeichen`
----
ğŸ“‚ isyfact-standards
  ğŸ“‚ isyfact-standards-doc
    ğŸ“‚ src
        ğŸ“‚ docs
            ğŸ“‚ antora
                ğŸ“„ antora.yml
                ğŸ“‚ modules               <.>
                    ğŸ“‚ isy-sonderzeichen <.>
----
<.> Obligatorisches Verzeichnis fÃ¼r Antora-Modul(e).
<.> Modul `isy-sonderzeichen`.

Ein Beispiel fÃ¼r die Aufteilung von Inhalten auf Module findet sich in der Beschreibung der xref:dokumentation/einfuehrung.adoc#struktur-dokumentation[Struktur der Quellen].


[[struktur-dokuseite]]
== Strukturierung innerhalb eines Antora-Moduls

Unterhalb des Modul-Verzeichnisses, z.B. `isy-sonderzeichen`, wird ein Verzeichnis mit Namen `pages` angelegt.
An diesem Ort werden die Dokumentationsseiten als `.adoc` abgelegt mit einem Namen, der ihren Inhalt widerspiegelt.

AuÃŸer dem Verzeichnis `pages` kann es bei Bedarf noch weitere Verzeichnisse geben wie `images` und `attachments`.
Siehe dazu ebenfalls xref:glossary:literaturextern:inhalt.adoc#litextern-antora-verzeichnisstruktur[Antora-Verzeichnisstruktur].
Unterhalb von `images` und `attachments` kann eine weitere Strukturierung erfolgen, die sich an der Struktur unter `pages` orientiert, siehe auch <<verzeichnisstruktur-pages-images>>.

Wenn unter `pages` viele Dokumentationsseiten abzulegen sind, kÃ¶nnen sie noch weiter strukturiert werden, siehe auch <<verzeichnisstruktur-pages-images>> und  xref:seitenvorlage.adoc#dateien-thema[Dateiablage].
FÃ¼r Bausteine wird hÃ¤ufig die Strukturierung `konzept` und `nutzungsvorgaben` gewÃ¤hlt.

Das folgende <<verzeichnisstruktur-pages-images,Listing>> zeigt die Verzeichnisstruktur innerhalb eines Antora-Moduls.

[[verzeichnisstruktur-pages-images]]
.Verzeichnisstruktur innerhalb eines Antora-Moduls
----
ğŸ“‚ isyfact-standards
  ğŸ“‚ isyfact-standards-doc
    ğŸ“‚ src
        ğŸ“‚ docs
            ğŸ“‚ antora
                ğŸ“„ antora.yml
                ğŸ“‚ modules
                    ğŸ“‚ isy-sonderzeichen <1>
                        ğŸ“‚ images <2>
                            ğŸ“‚ konzept <3>
                                sonderzeichen.dn.svg
                        ğŸ“‚ pages <4>
                            ğŸ“‚ konzept <5>
                                ğŸ“„ sonderzeichen.adoc <6>
                            ğŸ“‚ nutzungsvorgaben <5>
                                ...
----
<1> Modul `isy-sonderzeichen`.
<2> Verzeichnis zur Bildablage fÃ¼r das Modul `isy-sonderzeichen`.
<3> Die Bilder kÃ¶nnen analog zur Strukturierung unter `pages` abgelegt werden.
<4> Verzeichnis fÃ¼r die eigentlichen Dokumentationsseiten.
<5> Die Dokumentationsseiten kÃ¶nnen strukturiert abgelegt werden.
<6> Eigentliche Dokumentationsseite.

[[aufbau-dokuseite]]
== Dokumentationsseite Aufbau

Eine Dokumentationsseite enthÃ¤lt ein in sich abgeschlossenes Thema und entspricht damit in etwa einem Kapitel in konventionellen Dokumenten.

Der Aufbau einer Dokumentationsseite ist in der xref:seitenvorlage.adoc[Seitenvorlage] beschrieben.

[[linksnavigation-antora]]
== Navigationsdatei `nav.adoc`
Nach der Erstellung der Dokumentationsseiten in `.adoc`-Dateien muss dafÃ¼r gesorgt werden, dass sie aufrufbar sind, Ã¼blicherweise Ã¼ber die Linksnavigation von Antora.
In der Antora-Datei `nav.adoc` wird die Linksnavigation bezÃ¼glich einer xref:glossary:glossary:master.adoc#glossar-antora-dokumentations-komponente[Antora-Dokumentationskomponente] festgelegt, siehe auch xref:seitenvorlage.adoc#navigation-thema[Navigationsstruktur].

Die Top-Level Linksnavigation der Antora-Komponente `IsyFact Standards` spiegelt die SÃ¤ulen der IsyFact wider.
Unter `Bausteine` befinden sich beispielsweise die Bausteine, die in `isyfact-standards` dokumentiert werden.
I.d.R. strukturiert sich die Dokumentation eines Bausteins in Konzept und Nutzungsvorgaben, was bei der Linksnavigation beibehalten wird.

Der Name des Bausteins in der Linksnavigation, z.B. "Sonderzeichen", kann nur der Strukturierung dienen, oder er kann auf eine Ãœbersichtsseite fÃ¼r den Baustein verlinken, die kurze Informationen Ã¼ber den Baustein enthÃ¤lt, z.B. die Version.

Die Datei `nav.adoc` wird in `antora.yml` angegeben, damit sie von Antora berÃ¼cksichtigt werden kann.
Eine Antora-Komponente kann mehrere `nav.adoc` enthalten.
Die Verweise aus jeder `nav.adoc` werden in der Reihenfolge der ErwÃ¤hnung der `nav.adoc`-Dateien in `antora.yml` aufgelistet.

[[listing-antora-yml]]
.Beispiel `nav.adoc` in `antora.yml`
[source,yaml]
----
nav:
- modules/einstieg/nav.adoc
- modules/blaupausen/nav.adoc
- modules/bausteine/nav.adoc
- modules/plattform/nav.adoc
- modules/methodik/nav.adoc
- modules/werkzeuge/nav.adoc
- modules/changelog/nav.adoc
----

[[listing-nav-adoc]]
.Beispiel Modul `Werkzeuge`, Verlinkung in `nav.adoc`
[source,asciidoc]
----
* xref:werkzeuge.adoc[]
** xref:dokumentation/einfuehrung.adoc[]
*** xref:dokumentation/erstellung-antora.adoc[]
**** xref:seitenvorlage.adoc[]
**** xref:kopiervorlage.adoc[]
*** xref:dokumentation/bearbeitung-antora.adoc[]
*** xref:dokumentation/generierung-antora.adoc[]
** xref:dokumentation/changelog-doku.adoc[Changelogs]
** xref:entwicklungsumgebung/master.adoc[Entwicklungsumgebung]
** xref:versionierungskontrolle/master.adoc[]
** xref:gui-tests/gui-tests-mit-selenium.adoc[]
----

Die durch das Beispiel generierte Navigation ist links dieser Seite aufgeklappt zu sehen.

[[konfiguration-antora]]
== Anpassung des Playbooks

Das Playbook befindet sich im Repository https://github.com/IsyFact/isy-antora-playbook[icon:github[] isy-antora-playbook].
Es steuert die Generierung der Projektseite, also z.B. welche Antora-Komponenten in welchen Repositories und Branches verwendet werden sollen fÃ¼r die Generierung der Gesamtdokumentation.
Das Playbook muss angepasst werden, wenn in einem Repository eine Dokumentation neu erstellt wird, und wenn weitere Branches zur Dokumentengenerierung herangezogen werden sollen.

= Seiten anlegen

include::glossary:licence:partial$licence.adoc[]

Soll eine neue Dokumentation angelegt werden oder die bestehende Dokumentation um eine Seite erweitert werden, so muss zunÃ¤chst das xref:dokumentation/einfuehrung.adoc#struktur-dokumentation[geeignete Repository zur Ablage] bestimmt und ggf. lokal geklont werden.

[[submodul]]
== Submodul

Als Beispiel dient das Repository https://github.com/IsyFact/isyfact-standards[icon:github[] isyfact-standards].
Es enthÃ¤lt ein Submodul zur Dokumentation.
In Repositories, die noch keine Dokumentation enthalten, muss ein derartiges Submodul angelegt werden.

[[verzeichnisstruktur-submodul]]
.Repository mit Submodul zur Dokumentation
----
ğŸ“‚ isyfact-standards
  ğŸ“‚ isyfact-standards-doc <.>
----
<.> Submodul fÃ¼r die Dokumentation.


[[antora-komponente]]
== Antora-Dokumentationskomponente

Innerhalb des Submoduls wird der Pfad `src/docs/antora` angelegt.
Unterhalb dieses Pfades liegt die Antora-Dokumentationskomponente, reprÃ¤sentiert durch die Konfigurationsdatei `antora.yml`.
In Repositories, die noch keine Antora-Komponente enthalten, muss diese Konfigurationsdatei noch angelegt werden.
Ein Repository sollte jedoch nur eine Antora-Komponente enthalten.

TIP: Mehrere Antora-Komponenten hÃ¤tten unterschiedliche Versionen, die eventuell nicht mehr synchron zum Versionsstand des Repositories gehalten werden kÃ¶nnen.


[[verzeichnisstruktur-antora-komponente]]
.Verzeichnisstruktur Antora-Komponente
----
ğŸ“‚ isyfact-standards
  ğŸ“‚ isyfact-standards-doc
    ğŸ“‚ src
      ğŸ“‚ docs
        ğŸ“‚ antora
          ğŸ“„ antora.yml <.>
----
<.> Antora Konfigurationsdatei fÃ¼r die Antora-Komponente.

In der `antora.yml`-Datei wird mindestens der Name der https://docs.antora.org/antora/latest/component-version-descriptor/[Dokumentationskomponente] und ihre Version angegeben.

[[antora-modul]]
== Antora-Modul

Im gleichen Verzeichnis wie `antora.yml`, `src/docs/antora`, muss das https://docs.antora.org/antora/latest/standard-directories/[Verzeichnis fÃ¼r die Module] liegen.

In einem Antora-Modul wird die Dokumentation eines Bausteins abgelegt oder die Dokumentation einer SÃ¤ule der IsyFact.
Unterhalb des Verzeichnisses `modules` wird ein Modul-Verzeichnis mit entsprechendem Namen abgelegt, sofern noch nicht vorhanden.

[[verzeichnisstruktur-antora-modul]]
.Verzeichnisstruktur Antora-Modul
----
ğŸ“‚ isyfact-standards
  ğŸ“‚ isyfact-standards-doc
    ğŸ“‚ src
      ğŸ“‚ docs
        ğŸ“‚ antora
          ğŸ“„ antora.yml
          ğŸ“‚ modules <.>
            ğŸ“‚ isy-sonderzeichen <.>
----
<.> Obligatorisches Verzeichnis fÃ¼r Antora-Modul(e).
<.> Modul `isy-sonderzeichen`.

Ein Beispiel fÃ¼r die Aufteilung von Inhalten auf Module findet sich in der Beschreibung der xref:dokumentation/einfuehrung.adoc#struktur-dokumentation[Struktur der Quellen].


[[struktur-dokuseite]]
== Strukturierung innerhalb eines Antora-Moduls

Unterhalb des Modul-Verzeichnisses wird ein Verzeichnis mit Namen `pages` angelegt.
An diesem Ort werden die Dokumentationsseiten abgelegt.
Eine Dokumentationsseite enthÃ¤lt ein in sich abgeschlossenes Thema und entspricht damit in etwa einem Kapitel in konventionellen Dokumenten.
Der Aufbau einer Dokumentationsseite ist in der xref:seitenvorlage.adoc[Seitenvorlage] beschrieben.
Wenn unter `pages` viele Dokumentationsseiten abzulegen sind, kÃ¶nnen sie xref:seitenvorlage.adoc#dateien-thema[noch weiter strukturiert] werden.

Neben dem Verzeichnis `pages` kann es bei Bedarf https://docs.antora.org/antora/latest/standard-directories/[noch weitere Verzeichnisse], z.B. fÃ¼r Bilder oder AnhÃ¤nge, geben.
Auch in diesen Verzeichnissen kann eine weitere Strukturierung erfolgen, die sich bestenfalls an der Struktur der Dokumentationsseiten orientiert.

[[verzeichnisstruktur-pages-images]]
.Verzeichnisstruktur innerhalb eines Antora-Moduls
----
ğŸ“‚ isy-sonderzeichen <1>
  ğŸ“‚ images <2>
    ğŸ“‚ konzept <3>
      ğŸ–» sonderzeichen.dn.svg
  ğŸ“‚ pages <4>
    ğŸ“‚ konzept <5>
      ğŸ“„ sonderzeichen.adoc <6>
    ğŸ“‚ nutzungsvorgaben <5>
      ...
  ğŸ“„ nav.adoc <7>
----
<1> Modul `isy-sonderzeichen`.
<2> Verzeichnis zur Bildablage fÃ¼r das Modul `isy-sonderzeichen`.
<3> Die Bilder kÃ¶nnen analog zur Strukturierung unter `pages` abgelegt werden.
<4> Verzeichnis fÃ¼r die eigentlichen Dokumentationsseiten.
<5> Die Dokumentationsseiten kÃ¶nnen strukturiert abgelegt werden.
<6> Eigentliche Dokumentationsseite.
<7> Beitrag des Moduls zur Navigation.


[[linksnavigation-antora]]
== Navigationsdatei `nav.adoc`
Nach der Erstellung der Dokumentationsseiten muss dafÃ¼r gesorgt werden, dass sie aufrufbar sind.
Dies geschieht Ã¼blicherweise Ã¼ber die Linksnavigation von Antora.
In der Datei `nav.adoc` legt jedes Modul fest, wie seine Dokumentationsseiten in der Linksnavigation bereitgestellt werden.

.Navigation der Online-Dokumentation der IsyFact
====
Die Linksnavigation der Online-Dokumentation spiegelt die SÃ¤ulen der IsyFact wider.
Die SÃ¤ulen sind eins zu eins als Antora-Module deklariert.
Diese strukturieren die Linksnavigation weiter.
Unter "Bausteine" befinden sich beispielsweise die Bausteine, die im Repository https://github.com/IsyFact/isyfact-standards[icon:github[] isyfact-standards] dokumentiert werden.
====

Die Navigationsdateien der Module werden in der Konfigurationsdatei der Dokumentationskomponente (`antora.yml`) aufgelistet, damit sie von Antora berÃ¼cksichtigt werden kann.
Die Verweise aus jeder Navigationsdatei werden in der Reihenfolge der ErwÃ¤hnung in der Konfigurationsdatei aufgelistet.

[[listing-antora-yml]]
.Beispiel: Linksnavigation der IsyFact
[source,yaml]
----
nav:
- modules/einstieg/nav.adoc
- modules/blaupausen/nav.adoc
- modules/bausteine/nav.adoc
- modules/plattform/nav.adoc
- modules/methodik/nav.adoc
- modules/werkzeuge/nav.adoc
- modules/release/nav.adoc
----

[[listing-nav-adoc]]
.Beispiel: Navigationsdatei `modules/werkzeuge/nav.adoc`
[source,asciidoc]
----
* xref:werkzeuge.adoc[]
** xref:dokumentation/einfuehrung.adoc[]
*** xref:dokumentation/erstellung-antora.adoc[]
**** xref:seitenvorlage.adoc[]
**** xref:kopiervorlage.adoc[]
*** xref:dokumentation/bearbeitung-antora.adoc[]
*** xref:dokumentation/generierung-antora.adoc[]
** xref:dokumentation/changelog-doku.adoc[Changelogs]
** xref:entwicklungsumgebung/master.adoc[Entwicklungsumgebung]
** xref:versionierungskontrolle/master.adoc[]
** xref:gui-tests/gui-tests-mit-selenium.adoc[]
----

Die durch das Beispiel generierte Navigation ist links dieser Seite aufgeklappt zu sehen.

[[konfiguration-antora]]
== Anpassung des Playbooks

Das Playbook befindet sich im Repository https://github.com/IsyFact/isyfact.github.io[icon:github[] isyfact.github.io].
Es steuert die Generierung der Projektseite, also z.B. welche Antora-Komponenten in welchen Repositories und Branches fÃ¼r die Generierung der Gesamtdokumentation verwendet werden sollen.
Das Playbook muss angepasst werden, wenn in einem Repository eine Dokumentation neu erstellt wird, und wenn weitere Branches zur Dokumentengenerierung herangezogen werden sollen.

= Handbuch für technische Autoren: Inhalt

// tag::inhalt[]
[[aufbau-der-dokumentation]]
== Architektur der Dokumentation

Die Architektur der IsyFact-Dokumentation besteht aus drei Kernkomponenten:

. Zentrale Dokumentation (isy-documentation)
. Bausteindokumentation
. Dokumentvorlagen (isy-dokumentvorlagen)

Im Folgenden werden die Komponenten erläutert.


[[zentrale-dokumentation]]
=== Zentrale Dokumentation

Die zentrale Dokumentation (isy-documentation) bietet Informationen, Nutzungsvorgaben und Anleitungen zu zentralen Themen der IsyFact.
Dazu zählt das Einstiegsdokument, das Whitepaper oder auch das Tutorial.

[[baustein-dokumentation]]
=== Bausteindokumentation

Jeder Baustein der IsyFact enthält eine eigene Dokumentation.
Hierzu gehören die Nutzungsvorgaben zur Verwendung des Bausteins und das zugrundeliegende Konzept.
Die Nutzungsvorgaben richten sich in erster Linie an Entwickler, die die IsyFact nutzen.
Das Konzept richtet sich an Architekten und Entwickler, die die IsyFact weiterentwickeln.
Wird ein neuer Baustein angelegt, so muss auch eine entsprechende Dokumentation erstellt werden.
Die Dokumentation des Bausteins ist als Verzeichnis mit Asciidoc-Dateien im Baustein immer unter `src/docs/asciidoc` abgelegt.

[[dokumentvorlagen]]
=== Dokumentvorlagen

Die Dokumentvorlagen (isy-dokumentvorlagen) werden getrennt von der Dokumentation verwaltet und bieten Zugriff auf die einzelnen Vorlagedateien eines Dokuments.
Diese Vorlagedateien können kopiert und benutzt werden, um ein neues Dokument zu Erstellen und der IsyFact Dokumentation hinzuzufügen.
Zudem beinhalten die Dokumentvorlagen auch globale Einstellungen und Skripte, die während der Dokumentenerzeugung ausgeführt werden und dynamisch Inhalte, wie das Glossar oder das Abbildungsverzeichnis, erstellen.
Damit diese Skripte während der Dokumenterzeugung ausgeführt werden, sind die Vorlagen (isy-dokumentvorlagen) in die zentrale Dokumentation und die einzelnen Bausteine eingebunden.

[[die-arbeitsumgebung-einrichten]]
== Die Arbeitsumgebung einrichten

[[git-installieren]]
=== Git installieren

Git wird von der Webseite xref:glossary:literaturextern:inhalt.adoc#litextern-Git[Git] heruntergeladen.

.Webseite des Versionierungssystems Git
[id="image-git1",reftext="{figure-caption} {counter:figures}"]
image::handbuch/git1.png[align="center",pdfwidth=80%,width=80%]

Weil das Git-Repository auf einem Unix-basierten Betriebssystem installiert ist, technische Autoren aber eventuell auf einem Windows-Betriebssystem arbeiten, besteht eine Diskrepanz bei den Zeilenumbrüchen.
Denn während Windows die Zeichen Carriage-Return (`'\r'`) und New-Line (`'\n'`) einsetzt, um das Zeilenende anzuzeigen, verwendet Unix lediglich ein New-Line (`'\n'`).
Um dieses Problem zu lösen, wird bei der Installation von Git folgendes Fenster mit drei Optionen angeboten.

.Optionen zur Behandlung von Zeilenumbrüchen
[id="image-git2",reftext="{figure-caption} {counter:figures}"]
image::handbuch/git2.png[align="center"]

Bei der ersten Option geht Git genau von der Konstellation aus, die auch bei der IsyFact-Dokumentation gebraucht wird.
Denn mit dieser Option ändert Git die heruntergeladenen Zeilenumbrüche zur Windows-Variante um.
Beim Hochladen wird hingegen zur Unix-Variante zurückgewandelt.
Sollten Sie lokal mit Windows arbeiten, selektieren Sie also die erste Option.

[[git-lfs-installieren]]
=== Git LFS installieren

Zur Ablage großer Dateien, wie z.B. Bildern, wird in einigen Repositories Git Large File Storage (LFS) verwendet.
Dabei werden die großen Dateien durch sehr kleine sogenannte "pointer files" ersetzt, die auf die echten Dateien verweisen.
Damit das funktioniert muss auch client-seitig Git LFS installiert sein.
Die Installation geht sehr einfach in wenigen Schritten und ist für Linux, Windows und Mac hier beschrieben: xref:glossary:literaturextern:inhalt.adoc#litextern-Git-LFS[Git LFS]

[[vsc-installieren]]
=== VS Code installieren

Die Installationsdatei von VS Code kann von xref:glossary:literaturextern:inhalt.adoc#litextern-VisualStudio[Visual Studio] heruntergeladen werden.
Alternativ kann auch ein anderer Texteditor verwendet werden, der AsciiDoc unterstützt, wie z.B. xref:glossary:literaturextern:inhalt.adoc#litextern-Atom[Atom] oder xref:glossary:literaturextern:inhalt.adoc#litextern-IntelliJ[IntelliJ].

Im Folgenden wird die Installation, Konfiguration und Nutzung von VS Code beschrieben.

.Webseite des Texteditors VS Code
[id="image-vs_code",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code.png[align="center",pdfwidth=80%,width=80%]

Nach der Installation wird noch ein Plugin benötigt, um AsciiDoc-Dateien in Echtzeit im Texteditor zu rendern und eine Vorschau zu erzeugen.
Dazu VS Code starten und links am Rand des Editor auf den Menüpunkt für `Extensions` klicken (siehe  <<image-vs_code_plugin_suche>>).
Alternativ kann auch die Tastenkombination kbd:[Strg+Shift+X] gedrückt werden.
Anschließend in das Suchfeld "AsciiDoc" eingeben, um passende AsciiDoc-Plugins anzeigen zu lassen.

.Auswahl des AsciiDoc-Plugins
[id="image-vs_code_plugin_suche",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_plugin1.png[align="center",pdfwidth=80%,width=80%]

Die Suche wird automatisch gestartet und listet zahlreiche AsciiDoc-Plugins auf.
Wir nutzen das Plugin `AsciiDoc` von João Pinto, da dies den größten Funktionsumfang bietet.
Für die Installation das Plugin in der Ergebnisliste auswählen und in der sich öffnenden Plugin-Beschreibung auf den Button `install` klicken (siehe <<image-vs_code_plugin_installation>>).
Das Plugin wird nun installiert.

.Installation des AsciiDoc-Plugins
[id="image-vs_code_plugin_installation",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_plugin2.png[align="center",pdfwidth=80%,width=80%]

Nach der Installation wieder in den Explorer-Modus (siehe <<image-vs_code_plugin_explorer>>) wechseln.

.Wechsel in den Explorer-Modus
[id="image-vs_code_plugin_explorer",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_plugin3.png[align="center",pdfwidth=80%,width=80%]

In xref::handbuch_dokumentation/inhalt.adoc#vsc-einsetzen[VS Code einsetzen] wird die Nutzung von VS Code erläutert.

[[maven-installieren]]
=== Maven installieren

Zum Erzeugen der PDF- und HTML-Dokumente wird Apache Maven benötigt.
Apache Maven kann unter xref:glossary:literaturextern:inhalt.adoc#litextern-Maven[Maven] heruntergeladen werden.
Das heruntergeladene Archiv muss in ein beliebiges Verzeichnis entpackt werden.

Anschließend gilt es noch die Pfad-Variable zu setzen:



*Windows*

Dazu in das Suchfeld im Startmenü `Systemumgebungsvariablen` eingeben und den Treffer `Systemumgebungsvariablen auswählen`.
Anschließend im sich öffnenden Fenster unten rechts auf `Umgebungsvariablen` klicken.
Es öffnet sich ein neues Fenster.
Unter `Benutzervariablen für [nutzer]` den Eintrag `PATH` auswählen und auf den Button `Bearbeiten` klicken.
Im sich öffnenden Fenster einen neuen Eintrag anlegen und den Pfad zum entpackten Maven Verzeichnis inkl `bin` angeben.
Beispiel: `C:\maven\bin`

Anschließend die Konsole neu starten und den Befehl `mvn -v` eingeben. Nun sollte die installierte Maven-Version angegeben werden.


*Linux*

In der Konsole den Pfad mit folgendem Befehl setzen:
[source,shell]
----
export PATH=/opt/apache-maven-3.6.2/bin:$PATH+
----
`/opt/apache-maven-3.6.2/bin` gibt den lokalen Pfad zum entpackten Maven-Verzeichnis an.

[[ein-neues-dokument-anlegen]]
== Ein neues Dokument anlegen

Nach der Einrichtung der Arbeitsumgebung kann es mit der Bearbeitung der IsyFact-Dokumentation losgehen.
Allerdings ist schon beim Anlegen der ersten Dateien einiges zu beachten, denn ein IsyFact-Dokument muss der festgelegten Struktur entsprechen.
In diesem Kapitel wird jeweils für die zentrale Dokumentation, als auch für die Bausteindokumentation gezeigt, wie zunächst das Projekt Git-Repository heruntergeladen wird, um anschließend die darin enthaltene Dokument-Vorlage für das eigene IsyFact-Dokument vorzubereiten.

[[neues-verzeichnis-zentrale-dokumentation-anlegen]]
=== Zentrale Dokumentation: Ein neues Verzeichnis anlegen

Das neue IsyFact-Dokument muss in einem bestimmten Ordner der vorhandenen Verzeichnisstruktur abgelegt werden.
Dies setzt voraus, dass die zentrale Dokumentation als Gesamtprojekt zunächst vom Git-Repository heruntergeladen wird.
Hierfür wechseln Sie auf der Kommandozeile auf eine geeignete Stelle Ihrer lokalen Festplatte und geben dort folgendes Kommando ein.

====
C:\tmp\> *git clone* https://github.com/IsyFact/isy-documentation
====

Beim Herunterladen des Git-Projekts wird an der betroffenen Stelle das Verzeichnis isy-documentation angelegt, das einen einzigen Ordner enthält, nämlich den Ordner `/src`.
Unterhalb von `/src` befindet sich das Verzeichnis `/docs`, das die Verzeichnisse der IsyFact-Dokumentation beinhaltet.

.Die Verzeichnisse der IsyFact-Dokumentation
[id="image-verzeichnis1",reftext="{figure-caption} {counter:figures}"]
image::handbuch/verzeichnis1.png[align="center"]

Bei den Verzeichnissen der IsyFact-Dokumentation wird darin unterschieden, ob es sich bei dem Dokument thematisch um ein Modul der _IsyFact-Standards_  (das Fundament von IsyFact) oder ein Modul der _IsyFact-Erweiterungen_ (die optionalen wiederverwendbaren Lösungen) handelt.
Entsprechend beinhaltet das Verzeichnis `/docs` die zwei Verzeichnisse `10_IsyFact_Standards` und `20_IsyFact_Erweiterungen`.
Die Unterordner der beiden Verzeichnisse `10_IsyFact_Standards` und `20_IsyFact_Erweiterung` gliedern sich nach den Säulen der IsyFact.

00_Allgemein;; Einstiegsdokumente, Tutorial, Konventionen
10_Blaupausen;; Grundlagendokumente und Detailkonzepte für Architektur und Anwendungslandschaft
20_Bausteine;; Dokumente für die jeweilig wiederverwendbaren Softwarelösungen
30_Plattform;; Dokumente zum Betrieb und Inbetriebnahme
40_Methodik;; Methodische Dokumente bspw. zum V-Model XT oder Programmierkonventionen
50_Werkzeuge;; Dokumente zur Verwendung von Werkzeugen und der Einrichtung der Entwicklungsumgebung (hierzu gehört auch dieses Dokument)

Unterhalb der Säulen werden in der Regel die Verzeichnisse der IsyFact-Dokumente angelegt.
In der folgenden Abbildung sehen Sie beispielsweise, dass das "Handbuch für technische Autoren" unterhalb der Säule 50_Werkzeuge angelegt wurde.

.Die Verzeichnisse der IsyFact-Dokumentation mit den IsyFact-Säulen
[id="image-verzeichnis3",reftext="{figure-caption} {counter:figures}"]
image::handbuch/verzeichnis3.png[align="center"]

Genauso wie in der obigen Abbildung für das IsyFact-Dokument "Handbuch_fuer_technische_Autoren", so muss auch für Ihr IsyFact-Dokument ein neues Verzeichnis innerhalb der korrekt zugeordneten Säule erstellt werden.

Wenn Sie das neue Verzeichnis anlegen, stellt sich als nächstes die Frage, wie das Verzeichnis benannt werden soll.
Dazu vergeben Sie eine neue _Dokument-ID_.
Die _Dokument-ID_ ist ein eindeutiger Bezeichner, der durchgängig als Verzeichnis- und Dateiname für ein IsyFact-Dokument verwendet wird.
Die _Dokument-ID_ dieses Handbuchs ist zum Beispiel "Handbuch_fuer_technische_Autoren".


[[neues-verzeichnis-bausteindokumentation-anlegen]]
=== Bausteindokumentation: Ein neues Verzeichnis anlegen

Soll für einen Baustein eine neue Dokumentation angelegt werden oder die bestehende Dokumentation um ein Dokument erweitert werden, so gilt es zunächst die Verzeichnisse richtig anzulegen.
In einem Baustein wird die Dokumentation in einem eigenen Verzeichnis unter dem Pfad `src/docs/asciidoc` abgelegt.

<<image-verzeichnis_bausteindokumentation>> zeigt die Verzeichnisstruktur für die Dokumentation des Bausteins `isy-persistence`.

.Die Verzeichnisse der Bausteindokumentation von Isy-Persistence
[id="image-verzeichnis_bausteindokumentation",reftext="{figure-caption} {counter:figures}"]
image::handbuch/verzeichnis_bausteindokumentation.png[align="center"]

Dies setzt voraus, dass der Baustein zunächst vom Git-Repository heruntergeladen wird.
Hierfür wechseln Sie auf der Kommandozeile auf eine geeignete Stelle Ihrer lokalen Festplatte und geben dort folgendes Kommando ein.

====
C:\tmp\> *git clone* https://github.com/IsyFact/[baustein]

z.B. C:\tmp\> *git clone* https://github.com/IsyFact/isy-persistence
====

Sollte für den Baustein noch keine Dokumentation vorhanden sein und so im Projektverzeichnis das Verzeichnis `src/docs/asciidoc` fehlen, so muss dies zunächst manuell angelegt werden.
Dazu müssen Sie im Verzeichnis `src` das Verzeichnis `docs` und darin das Verzeichnis `asciidoc` erstellen.

Im Verzeichnis `asciidoc` wird anschließend ein weiteres Verzeichnis für das Dokumentationsdokument erstellt.

Wenn Sie dieses Verzeichnis anlegen, stellt sich als Nächstes die Frage, wie das Verzeichnis benannt werden soll.
Dazu vergeben Sie eine neue _Dokument-ID_.
Die _Dokument-ID_ ist ein eindeutiger Bezeichner, der durchgängig als Verzeichnis- und Dateiname für ein IsyFact-Dokument verwendet wird.
Die _Dokument-ID_ des Konzepts des Bausteins ´isy-persistence´ ist zum Beispiel "Detailkonzept_Komponente_Datenzugriff".

Das Verzeichnis ist nun angelegt und die Asciidoc-Dateien aus der Mustervorlage können nun abgelegt werden.

[[die-mustervorlage-vorbereiten]]
=== Die Mustervorlage vorbereiten

Um Sie (als technischen Autor) bei der Erstellung des neuen IsyFact-Dokuments zu unterstützen, wurde die Dokumentenvorlage (isy-dokumentenvorlagen) erstellt.
Die Dokumentenvorlage enthält Musterinhalte, die Sie als Grundlage für Ihr neues Dokument verwenden können.

Es gibt zwei verschiedene Wege, um auf die Dokumentvorlage zuzugreifen:

*1. Klonen des Projektes isy-dokumentvorlagen*
Hierfür wechseln Sie auf der Kommandozeile auf eine geeignete Stelle Ihrer lokalen Festplatte und geben dort folgendes Kommando ein.
====
C:\tmp\> *git clone* https://github.com/IsyFact/isy-dokumentvorlagen
====
Nun werden die Dokumentvorlagen heruntergeladen.
Die Musterdateien befinden sich anschließend im Verzeichnis unter `isy-dokumentvorlagen/docs/Dokument-Vorlage`.

*2. Nutzung der Dokumentvorlagen aus dem Build der Dokumentation/des Bausteins*
Während des Build-Vorgangs werden die Dokumentvorlagen automatisch geladen und im `target` Verzeichnis der Dokumentation abgelegt.
Um den Build-Vorgang zu starten, wird mit der Konsole in das Verzeichnis `isy-documentation` oder den jeweiligen Baustein navigiert und der Befehl `mvn install` ausgeführt.
Der Build-Vorgang nimmt einige Zeit in Anspruch, da gleichzeitig auch die Dokumentation neu gerendert wird.
Die Musterdateien befinden sich anschließend im Verzeichnis unter `/target/isy-dokumentvorlagen/docs/Dokument-Vorlage`.

Nun kopieren Sie die Musterdateien in das neu angelegte Zielverzeichnis und erstellen ein neues Unterverzeichnis mit der Bezeichnung `images`.
In dem neu erzeugten Verzeichnis `images` werden Bilder und Grafiken abgelegt, die im neu zu erstellenden Dokument verwendet werden sollen.

Bei den Musterdateien handelt sich um folgende AsciiDoc-Dokumente:

anhaenge.adoc::
In der Datei `anhaenge.adoc` werden Anhänge des IsyFact-Dokuments aufgelistet.

inhalt.adoc::
`inhalt.adoc` enthält alle Inhaltskapitel des IsyFact-Dokuments.

master.adoc::
`master.adoc` ist die zentrale Datei, die alle anderen Dateien der Dokument-Vorlage über spezielle Verweise (`include`) einbindet.
Wenn Sie sich eine vollständige Vorschau Ihres Dokuments anschauen möchten, können Sie die Datei `master.adoc` in Ihrem Editor öffnen und die Vorschaufunktion verwenden.

thisdoc.adoc::
`thisdoc.adoc` enthält das einleitende Kapitel des IsyFact-Dokuments, das den Inhalt zusammenfasst sowie den Aufbau und Zweck des Dokuments erläutert.

[[vsc-einsetzen]]
=== VS Code einsetzen

Für die Bearbeitung der Dokument-Vorlagen öffnen Sie VS Code über das Startmenü.
Innerhalb von VS Code öffnen Sie im Hauptmenü unter menu:File[Open Folder] das neu erstellte oder ein bestehendes Verzeichnis.
Hierdurch öffnen Sie den Ordner Ihres IsyFact-Dokuments als VS Code Projekt.

.Den Ordner des IsyFact-Dokuments öffnen
[id="image-vs_code_projekt_oeffnen",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_projekt_oeffnen.png[align="center"]

Auf der linken Seite erscheint die Projektansicht mit dem Verzeichnis Ihres IsyFact-Dokuments (<<image-vs_code_projektstruktur>>).

.Die Projektansicht mit dem Verzeichnis Ihres IsyFact-Dokuments
[id="image-vs_code_projektstruktur",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_projektstruktur.png[align="center"]

Sie können sich nun bereits die Dokument-Vorlage in der Vorschau ansehen.
Hierfür öffnen Sie zunächst die zentrale Datei `master.adoc`.
Dann drücken Sie entweder kbd:[Strg + K] und anschließend kbd:[V] oder Sie klicken im oberen rechten Ecke des Editors auf das Symbol mit der blauen Lupe (<<image-vs_code_vorschau1>>).


.Die geöffnete AsciiDoc-Datei mit Button zur Vorschau
[id="image-vs_code_vorschau1",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_vorschau1.png[align="center"]

Dabei sollte auf der rechten Seite die Vorschau erscheinen (<<image-vs_code_vorschau2>>).

.Gerenderte Vorschau der Asciidoc-Datei
[id="image-vs_code_vorschau2",reftext="{figure-caption} {counter:figures}"]
image::handbuch/vs_code_vorschau2.png[align="center"]

Die Vorschau dient lediglich einer groben Orientierung, da weder die Isyfact-Stylesheets für die Dokumente genutzt werden, noch die Skripte zur Erzeugung von Glossar, Inhaltsverzeichnis und Verlinkungen ausgeführt werden.
Ein vollständige gerenderte Ansicht wird erst durch den Maven-Build Vorgang erzeugt.
Dies ist später in diesem Dokument unter xref::handbuch_dokumentation/inhalt.adoc#asccidoc-zu-pdf-html[PDF- und HTML-Dokumente erzeugen] erläutert.

Im Folgenden wird mit dem Bearbeiten der Dokumentbestandteile fortgefahren.

[[vorlagedateien-bearbeiten]]
=== Dateien der Vorlage bearbeiten

Dieser Abschnitt beschreibt, welche Attribute und Inhalte in den den Vorlagedateien (vgl. xref::handbuch_dokumentation/inhalt.adoc#die-mustervorlage-vorbereiten[Die Mustervorlage vorbereiten]) angepasst werden können.

[[master.adoc-bearbeiten]]
==== master.adoc bearbeiten

Zunächst werden die globalen Attribute aus der Dokumentenvorlage inkludiert, anschließend können einzelne Attribute gesetzt bzw. überschrieben werden (vgl. <<listing-master>>).
Daraufhin werden die vorgefertigten Abschnitte `title.adoc` und `colophon.adoc` eingebunden.
In `title.adoc` wird ein einheitlicher Titel aus den Attributen `doctitle` und `document-type` erzeugt.
Die Datei `colophon.adoc` erzeugt einen einheitlichen Abschnitt mit Metadaten des Dokuments und die Lizenzbestimmungen.

.master.adoc
[id="listing-master",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,indent=0]
----
 include::{isy-dokumentvorlagen}/docs/common/isyfact-attributes.adoc[]

 :doctitle: Super tolles Feature
 :document-type: Konzept
 :license-oss!:
 :factory: IsyFact-Erweiterungen

 // Wird normalerweise vom Maven-Plugin gesetzt
 // :revnumber: 1.0.5
 // :revdate: 2020-01-01

 include::{isy-dokumentvorlagen}/docs/common/title.adoc[]
 include::{isy-dokumentvorlagen}/docs/common/colophon.adoc[]
----

NOTE: Die manuelle Vergabe von Revisionsnummer und -datum betrifft nur Dokumente, die nicht mit Hilfe des Maven-Plugins erzeugt werden.
Ansonsten werden diese Attribute über das Maven-Plugin bereitgestellt (siehe <<listing-pom-asciidoc>>).

<<table-master-attributes>> zeigt alle Attribute, die in der `master.adoc` Datei angepasst werden können.

.Attribute der master.adoc
[id="table-master-attributes",reftext="{table-caption} {counter:tables}"]
[cols="2,1,1,3",options="header"]
|===
|Attribut|Optional|Default|Beschreibung
|`doctitle`|Nein||Titel des Dokuments
|`document-type`|Ja||Dokumententyp (z.B. Konzept), welcher als Untertitel angezeigt wird
|`factory`|Nein|IsyFact-Standards|Definiert, ob das Dokument zu den IsyFact-Standards oder IsyFact-Erweiterungen gehört
|`license-oss`|Ja|true|Klassifiziert das Dokument entweder als Open Source oder als Closed Source
|`revdate`|Nein||Release Datum des Bausteins oder Dokuments
|`revnumber`|Nein||Versionsnummer des Bausteins oder Dokuments
|===

Bezieht sich das zu erstellende Dokument auf einen Baustein (Bibliothek) der IsyFact, so ist dieser Baustein inklusive der Version ebenfalls in der master.adoc anzugeben.
In <<listing-master-bib>> wird beispielsweise auf den Baustein `isy-web` verwiesen.

.master.adoc - Angabe des zugehörigen Bausteins
[id="listing-master-bib",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,indent=0]
----
// Einbindung Bibliotheken, wenn nicht genutzt, entfernen
*Java Bibliothek / IT-System*

[cols="5,2,3",options="header"]
|====
|Name |Art |Version
|isy-web |Bibliothek |v{version-ifs}
|====
----

In der Vorschau sollten die Änderungen unmittelbar erscheinen. Ihre Änderungen speichern Sie über kbd:[Strg + S].

[[thisdoc.adoc-bearbeiten]]
==== thisdoc.adoc bearbeiten

Die Datei `thisdoc.adoc` ist optional auszufüllen und sollte eine Einleitung in das Dokument bieten und den Aufbau und Zweck des Dokuments erläutern.
Diese Datei ist in der `master.adoc` integriert und wird beim Rendern in das Gesamtdokument eingefügt.

[[inhalt.adoc-bearbeiten]]
==== inhalt.adoc bearbeiten

In `inhalt.adoc` wird der eigentliche Inhalt des Dokuments verfasst.
Diese Datei wird in der `master.adoc` beim Rendern nach der Datei `thisdoc.adoc` geladen.

Im Folgenden wird die Inhaltserstellung erläutert.


[[ein-dokument-bearbeiten]]
== Ein Dokument bearbeiten

Wenn das neue Verzeichnis mit den oben genannten Dateien erstellt worden ist, besteht für die weitere Bearbeitung kein Unterschied darin, ob es sich um frisch angelegte oder bereits bestehende Dokumente handelt.
In beiden Fällen bearbeiten Sie in den meisten Fällen die Dateien `thisdoc.adoc`, `inhalt.adoc` und `anhaenge.adoc`.

Außer diesem Handbuch sind hierzu Kenntnisse der AsciiDoc-Syntax erforderlich.

[NOTE]
====
Dieses Handbuch erklärt die Grundlagen der AsciiDoc-Syntax nicht weiter.
Die folgenden Webseiten bieten ausführliche Tutorials und weiterführende Informationen an:
* xref:glossary:literaturextern:inhalt.adoc#litextern-AsciiDoc[What is AsciiDoc? Why do we need it?]
* xref:glossary:literaturextern:inhalt.adoc#litextern-AsciidoctorUserManual[Asciidoctor User Manual]
* xref:glossary:literaturextern:inhalt.adoc#litextern-AsciiDocSyntax[AsciiDoc Syntax Quick Reference]
* xref:glossary:literaturextern:inhalt.adoc#litextern-AsciiDocTutorial[Tutorial: Using AsciiDoc and Asciidoctor to write documentation]
====

Des Weiteren sind in IsyFact-Dokumenten bestimmte Besonderheiten zu beachten.
Eine wichtige Besonderheit ist beispielsweise, dass man auf Kapitelüberschriften, aber auch auf Einträge wie Quellen, Fachbegriffen, Abbildungen oder Tabellen über einen Querverweis referenzieren können muss.
Das setzt voraus, dass dafür zu sorgen ist, dass jeder Eintrag einen eindeutigen _Inline-Anchor_ erhält.
Hinzu kommt, dass bei der Umwandlung in die Ausgabeformate HTML und PDF vorgefertigte Skripte ausgeführt werden, die automatisch Verzeichnisse am Ende des Dokuments einfügen und man auch auf die Einträge dieser Verzeichnisse per Querverweis referenzieren können muss.
Bei den automatisch erzeugten Verzeichnissen handelt es sich um folgende:

Literaturverzeichnis:: Quellenangaben, Referenzen auf Bücher oder andere IsyFact-Dokumente
Glossar:: verwendete Abkürzungen, Fachbegriffe sowie nicht offensichtliche Begriffe
Abbildungsverzeichnis:: enthaltene Abbildungen mit Nummer und Beschreibung
Quelltextverzeichnis:: enthaltene Listings, beispielsweise Java, SQL etc.
Tabellenverzeichnis:: enthaltene Tabellen mit Tabellennummer und Tabellenunterschrift

Die Verzeichnisse listen ihre jeweiligen Einträge entweder nach der Position im Dokument oder alphanumerisch auf und dienen so vor allem dazu, Einträge nachzuschlagen.
Die Skripte gehen hierbei von einer bestimmten Syntax aus, die in den folgenden Abschnitten erläutert wird.
Je nachdem, ob es sich um eine Abbildung, eine Tabelle, ein Begriff oder ein referenziertes Medium handelt, werden jeweils unterschiedliche Bestandteile vorgesehen, die gesetzt werden müssen.

[[ein-satz-pro-zeile]]
=== Zeilenumbrüche

Der Quelltext eines Dokuments bricht nach jedem Satz um.
Er orientiert sich nicht anhand einer fixen Spaltenbreite.
Diese Regel wird "ein Satz pro Zeile" (_one sentence per line_, s. xref:glossary:literaturextern:inhalt.adoc#litextern-AsciiDocRecommendedPractices[AsciiDoc Recommended Practices]) genannt und orientiert sich an der Art und Weise, wie Quellcode organisiert ist (eine Anweisung pro Zeile).

Die Anwendung der Regel "ein Satz pro Zeile" bringt unter anderem folgende Vorteile mit sich:

* Änderungen am Anfang eines Absatzes führen nicht zu Veränderungen an den restlichen Zeilenumbrüchen des Absatzes.
* Einzelne Sätze können mit Leichtigkeit verschoben oder ausgetauscht werden.
* Absätze können durch das Einfügen oder Löschen von Leerzeilen mit Leichtigkeit verbunden oder auseinander gezogen werden.
* Einzelne Sätze können gut auskommentiert oder mit Kommentaren versehen werden.
* Eine Analyse der Zeilenlänge lässt schnell auf zu lange Sätze (z.B. Bandwurm- oder Schachtelsätze) oder andere Anomalien wie eine redundante Schreibweise (z.B. alle Sätze eines Absatzes beginnen gleich) schließen.

Die Regel passt außerdem sehr gut zur gleichzeitigen Verwendung eines modernen Versionsverwaltungssystems, das Branching sowie Merging unterstützt und Merges zeilenweise verarbeitet.
Neue oder gelöschte Sätze kann das Versionsverwaltungssystem leicht interpretieren und zusammenführen, da sie sich auf jeweils unterschiedliche Zeilen auswirken.
Merge-Konflikte passieren häufig auf Ebene eines Satzes.
Sie sind daher leicht verständlich, lokal begrenzt und daher in den meisten Fällen gut zu lösen.


[[ueberschriften]]
=== Überschriften

Überschriften können bei AsciiDoc auf unterschiedlicher Weise gesetzt werden.
Bei einem IsyFact-Dokument ist hingegen stets die Variante zu wählen, bei der die Anzahl der vorgesetzten Gleichheitszeichen die Ebene der Überschrift anzeigt.
Das folgende Beispiel definiert ein Kapitel und ein Unterkapitel.

.Syntax von Überschriften
[id="listing-ueberschriften",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc]
----
== Hallo Welt Kapitel
Das ist ein Hallo Welt Text zum Kapitel.

=== Hallo Welt Unterkapitel
Das ist ein Hallo Welt Text zum Unterkapitel.
----

Für ein IsyFact-Dokument sind diese Überschriften aber noch nicht vollkommen, denn es fehlen noch die _Inline-Anchor_.
Der Inline-Anchor wird über eckige Klammern gesetzt.
Ferner muss die ID des Anchors durchgängig mit kleinen Buchstaben geschrieben werden und darf keine Leer- oder Sonderzeichen enthalten.

.Überschriften mit Inline Anchors
[id="listing-ueberschriften-final",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc]
----
[[beispiel-kapitel]]
== Beispiel-Kapitel
Das ist ein Beispieltext zum Kapitel.

[[beispiel-unterkapitel]]
=== Beispiel-Unterkapitel
Das ist ein Beispieltext zum Unterkapitel.
----

Einen Querverweis auf eine Überschrift setzt man über zwei Paare spitzer Klammern.

.Querverweis auf eine Überschrift
[id="listing-querverweis",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc]
----
Zum xref::handbuch_dokumentation/inhalt.adoc#ueberschriften[Beispiel-Kapitel] gelangen Sie über einen Mausklick.
Im Übrigen handelt es sich bei dem Beispiel-Kapitel um das Kapitel xref::handbuch_dokumentation/inhalt.adoc#ueberschriften[Überschriften].
----

Der erste Parameter in dem Klammer-Paar legt die ID des Querverweises fest.
Der zweite Parameter kann gesetzt werden, wenn statt dem Namen des Kapitels ein eigener Text verwendet werden soll.
Der erzeugte Text sieht wie folgt aus:

_Zum xref::handbuch_dokumentation/inhalt.adoc#ueberschriften[Beispiel-Kapitel] gelangen Sie über einen Mausklick._
_Im Übrigen handelt es sich bei dem Beispiel-Kapitel um das Kapitel xref::handbuch_dokumentation/inhalt.adoc#ueberschriften[Überschriften]._

=== Admonition-Blocks

Mit Admonition Blocks können Inhalte in Dokumenten exponiert dargestellt werden, sodass ihnen besondere Aufmerksamkeit zuteil wird.
Standardmäßig werden fünf verschiedene Blöcke angeboten.
Die IsyFact-Dokumentation erweitert diese Liste um weitere Blöcke für verbindliche Regeln.

Es gibt zwei Möglichkeiten zur Definition von Admonition Blocks.
Die syntaktisch ausführlichere Variante funktioniert sowohl mit den vordefinierten, als auch mit den selbst definierten Blöcken.

.Definition eines Admonition Blocks (als Block)
[id="listing-admonition-block",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc]
----
[BLOCKTYP]
====
Hier steht der Text.
====
----

Die syntaktisch schlankere Variante funktioniert nur mit den vordefinierten Blöcken (NOTE, TIP, IMPORTANT, WARNING und CAUTION).

.Definition eines Admonition Blocks (inline)
[id="listing-admonition-inline",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc]
----
BLOCKTYP: Hier steht der Text.
----

==== Vordefinierte Blöcke

Den folgenden, vordefinierten Blöcken fallen in der IsyFact-Dokumentation einheitliche Bedeutungen zu.
Sie helfen dabei, optionale oder ergänzende Inhalte zu markieren, geben Erfahrungswerte weiter und warnen vor typischen Fehlersituationen oder Fallstricken.

[NOTE]
====
Der Block NOTE enthält weiterführenden Inhalte, die optionale Ergänzungen des Textes darstellen.
Dies können z.B. interessante Randnotizen oder weiterführende Links, Dokumente sowie Artikel sein.
Der Inhalt der Verweise ist in jedem Fall für die Nutzung der IsyFact optional.

Die Verwendung ist ähnlich zu einer Fußnote gedacht, wobei Verweise von einem erklärenden Satz begleitet sein sollten.
====

[TIP]
====
Der Block TIP enthält optionale Inhalte, die eigene Erfahrungswerte (Good / Best Practices, Tipps & Tricks, ...) einbringen.
Die Inhalte stellen Empfehlungen, aber keine verpflichtenden Regeln dar.
Allgemeine Vorgaben oder Regeln zur Anwendungsentwicklung, Architektur, Sicherheit oder das Styling müssen in jedem Fall über die jeweils dafür gedachten Blöcke formuliert werden!
====

[IMPORTANT]
====
Der Block IMPORTANT beschreibt allgemeine Vorgaben der IsyFact, die sich nicht einem der selbst definierten Blöcke zuordnen lassen.
Die Inhalte stellen verpflichtende Regeln oder Konventionen dar und können bei Nichtbeachtung, je nach Kontext, zu Fehlern, Workarounds oder eingeschränkter Funktionalität führen.
====

[WARNING]
====
Der Block WARNING beschreibt typische Fallstricke, die sich bei der Nutzung der IsyFact (z.B. der beschriebenen Blaupause oder eines Bausteins) ergeben können.
Er warnt davor und bietet Lösungsmöglichkeiten oder hilft, den Fallstrick aktiv zu vermeiden.
====

[CAUTION]
====
Der Block CAUTION beschreibt typische Fehler, die bei der Nutzung der IsyFact passieren können oder in der Vergangenheit häufiger aufgetreten sind.
Die Inhalte sollen diesen Fehlern vorbeugen, um Mehraufwände insbesondere durch subtile Unterschiede, "false friends" oder dergleichen zu vermeiden.

In der Abgrenzung zum Block WARNING stellen die Situationen, die in Blöcken des Typs CAUTION beschrieben werden, entweder eine größere Bedrohung für die korrekte oder rechtzeitige Umsetzung von Anforderungen dar, oder sind, gemessen an ihren Auswirkungen, in der Regel schwer oder erst (zu) spät zu erkennen.
====

==== Selbst definierte Blöcke

Die folgenden, selbst definierten Blöcke, bilden Regeln und Vorgaben der IsyFact ab, die verpflichtend einzuhalten sind.
Sie bilden die Grundlage für eine zur IsyFact konforme Umsetzung von Anforderungen und definieren so maßgeblich, wie Konformität zur IsyFact erzielt wird.

.icon:cogs[] Anwendungsanforderung: Beispiel für Anwendungsanforderung
****
Der Block ANWENDUNGSANFORDERUNG beschreibt Anforderungen, welche die IsyFact an die Entwicklung von IT-Systemen stellt.
Die Anforderungen kommen typischerweise aus den Bereichen:

* Struktur des Quellcodes oder der Quellcodeablage,
* Format und Inhalt der Auslieferung,
* Detailaspekte der Verwendung von Bausteinen.

Sie bilden die Grundlage für eine einheitliche Umsetzung von Anforderungen, die in gleichartig strukturierten IT-Systemen münden.
****

.icon:university[] Architekturregel: Beispiel für Architekturregel
****
Der Block ARCHITEKTURREGEL beschreibt Regeln, welche die IsyFact an die Architektur von mit ihr entwickelten IT-Systemen stellt.
Die Regeln zielen somit vor allem auf eine korrekte Umsetzung der Referenzarchitektur ab und sind fast ausschließlich technischer Natur.
Sie bilden die Grundlage für eine einheitliche softwaretechnische Architektur der IT-Systeme.
****

.icon:shield[] Sicherheit: Beispiel für Sicherheitshinweis
****
Der Block SICHERHEIT beschreibt Regeln, welche die IsyFact an die IT-Sicherheit von mit ihr entwickelten IT-Systemen stellt.
Die Regeln stellen vor allem eine, vom festgestellten Schutzbedarf abhängige, sichere Umsetzung der IT-Systeme sicher.
****

.icon:paint-brush[] Styleguide: Beispiel für Styleguide
****
Der Block STYLEGUIDE beschreibt Regeln, welche die IsyFact an die Gestaltung der grafischen Oberflächen stellt.
Die Regeln kommen typischerweise aus den Bereichen:

* Allgemeine Gestaltungsrichtlinien,
* Grundlegender Aufbau von Masken,
* Vorgaben zur Ein- und Ausgabe von Daten sowie zu Interaktionsmustern,
* Barrierefreiheit und Usability.

Die Regeln stellen vor allem sicher, dass grafische Oberflächen ein einheitliches Look&Feel besitzen und gleichartig bedient werden.
****

==== Verwendung von Tags zur Kennzeichnung

Folgende Blöcke sind zusätzlich mit einem Tag zu kennzeichnen:

* IMPORTANT (Tag-Name: `important`)
* ANWENDUNGSANFORDERUNG (Tag-Name: `anwendungsanforderung`)
* ARCHITEKTURREGEL (Tag-Name: `architekturregel`)
* SICHERHEIT (Tag-Name: `sicherheit`)
* STYLEGUIDE (Tag-Name: `styleguide`)

Damit lassen sich die Regeln oder Anforderungen aus der gesamten Dokumentation zusammenziehen und gebündelt bereitstellen, z.B. als Checklisten oder zur Grundlage automatischer Überprüfungen.

Die Tags werden jeweils am Anfang und am Ende des Blocks gesetzt (<<listing-tags>>).

.Setzen des Tags am Beispiel einer Architekturregel
[id="listing-tags",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc]
----
// tag::architekturregel[]
[ARCHITEKTURREGEL]
====
Hier steht der Text.
====

// end::architekturregel[]
----

WARNING: Die Leerzeile zwischen dem Block und dem Ende des Tags ist wichtig, damit die Bündelung der Inhalte korrekt funktioniert.

Zur Bündelung von Inhalten wird das entsprechende Dokument eingebettet.
Über den Parameter `tags` werden nur die Inhalte eingefügt, die von den entsprechenden Tags umgeben sind.

.Bündelung von Inhalten anhand von Tags
[id="listing-include-tags",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc]
----
\include::pfad_zum_dokument.adoc[tags=beispiel;...]
----


[[bilder]]
=== Abbildungen

Das Einbinden von Abbildungen gelingt in AsciiDoc über die folgende Syntax:

.Abbildung einfügen (AsciiDoc)
[id="listing-bild-einfuegen",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc]
----
image::beispiel.png
----

In einem IsyFact-Dokument muss eine Abbildung zusätzlich:

* eine Beschreibung enthalten,
* eindeutig identifizierbar und referenzierbar sein,
* am Ende des Dokuments in einem Abbildungsverzeichnis erscheinen.

Deswegen werden Abbildungen in IsyFact-Dokumenten wie folgt definiert:

.Abbildung einfügen (IsyFact)
[id="listing-bild-einfuegen2",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,subs="attributes+"]
----
:desc-image-beispiel: Beispiel
[{id-equals}"image-beispiel",reftext="{figure-caption} {counter:figures}"]
.{desc-image-beispiel}
image::beispiel.png
----

Das Skript für die automatische Erstellung des Abbildungsverzeichnisses sucht alle Abbildungen im Dokument und erstellt hieraus ein Verzeichnis am Ende des Dokuments.

// tag::important[]
IMPORTANT: Die vorgegebene Syntax zu Abbildungen muss zwingend eingehalten werden, da die Abbildungen ansonsten nicht bei der Generierung des Abbildungsverzeichnisses berücksichtigt werden.

// end::important[]

Für Ihre eigenen Abbildungen ersetzen Sie den Bezeichner `beispiel` durch Ihren eigenen Bezeichner.

// tag::important[]
IMPORTANT: Abbildungen zu einem Dokument werden stets im Unterordner `/images` abgelegt.

// end::important[]

Abbildungen können wie üblich über einen Querverweis referenziert werden:

 <<image-beispiel>>

Wenn die Abbildung zentriert werden soll, fügt man das Attribut `[align="center"]` hinzu.

.Abbildung zentriert einfügen
[id="listing-bild-einfuegen3",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,subs="attributes+"]
----
:desc-image-beispiel: Beispiel
[{id-equals}"image-beispiel",reftext="{figure-caption} {counter:figures}"]
.{desc-image-beispiel}
image::beispiel.png[align="center"]
----

Eine Skalierung der Abbildung ist auch möglich.
Im folgenden Beispiel wird die Abbildung auf 80% skaliert.
Die doppelte Angabe der Breite ist leider nötig, damit die Abbildung in allen Ausgabeformaten richtig skaliert wird.
HTML-Dokumente benötigen die Angabe von `scaledwidth`, PDF-Dokumente wiederum `pdfwidth`.

.Abbildung zentriert und skaliert einfügen
[id="listing-bild-einfuegen4",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,subs="attributes+"]
----
:desc-image-beispiel: Beispiel
[{id-equals}"image-beispiel",reftext="{figure-caption} {counter:figures}"]
.{desc-image-beispiel}
image::beispiel.png[align="center",pdfwidth=80%,scaledwidth=80%]
----

[[tabellen]]
=== Tabellen

In AsciiDoc wird eine Tabelle über folgende Syntax definiert:

.Tabelle einfügen
[id="listing-tabelle1",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc]
----
|====
|Zelle 11|Zelle 12|Zelle 13|Zelle 14
|Zelle 21|Zelle 22|Zelle 23|Zelle 24
|Zelle 31|Zelle 32|Zelle 33|Zelle 34
|====
----

Das Ergebnis ist folgende Tabelle:

|====
|Zelle 11|Zelle 12|Zelle 13|Zelle 14
|Zelle 21|Zelle 22|Zelle 23|Zelle 24
|Zelle 31|Zelle 32|Zelle 33|Zelle 34
|====

In einem IsyFact-Dokument muss eine Tabelle aber auch:

- eine Tabellenunterschrift enthalten,
- über einen Identifizierer referenziert werden können und
- mit einer Kopfzeile beginnen.

Hierfür soll folgende Syntax verwendet werden:

.Tabelle einfügen in IsyFact
[id="listing-tabelle2",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,subs="attributes+"]
----
:desc-table-beispiel: Beispiel-Tabelle
[{id-equals}"table-beispiel",reftext="{table-caption} {counter:tables}"]
.{desc-table-beispiel}
[options="header"]
|====
|Spalte 1|Spalte 2|Spalte 3|Spalte 4
|Zelle 11|Zelle 12|Zelle 13|Zelle 14
|Zelle 21|Zelle 22|Zelle 23|Zelle 24
|Zelle 31|Zelle 32|Zelle 33|Zelle 34
|====
----

Das Ergebnis sieht dann so aus:

.Beispiel-Tabelle
[id="table-beispiel",reftext="{table-caption} {counter:tables}"]
[options="header"]
|====
|Spalte 1|Spalte 2|Spalte 3|Spalte 4
|Zelle 11|Zelle 12|Zelle 13|Zelle 14
|Zelle 21|Zelle 22|Zelle 23|Zelle 24
|Zelle 31|Zelle 32|Zelle 33|Zelle 34
|====

Auch hier können Sie den Bezeichner `beispiel` mit Ihrem eigenen Bezeichner ersetzen.
Ferner kann die Tabelle im AsciiDoc-Text über ihre ID referenziert werden:

 <<table-beispiel>>

[[listings]]
=== Listings

Quelltexte können bei AsciiDoc auf folgende Weise mit Syntaxhighlighting angezeigt werden.

.Quelltext einfügen
[id="listing-quelltext1",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,indent=0]
----
 [source,java]
 ----
 public class HalloWelt {
    public static void main(String[] args) {
        System.out.println("Hallo Welt");
    }
 }
 ----
----

Die Ausgabe sieht wie folgt aus:

[source,java]
----
public class HalloWelt {
    public static void main(String[] args) {
        System.out.println("Hallo Welt");
    }
}
----

Auch hier wird noch eine Listing-Überschrift und eine ID benötigt:

.Quelltext einfügen in IsyFact
[id="listing-quelltext2",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,subs="attributes+",indent=0]
----
 :desc-listing-hallowelt: HalloWelt.java
 [{id-equals}"listing-hallowelt",reftext="{listing-caption} {counter:listings }"]
 .{desc-listing-hallowelt}
 [source,java]
 ----
 public class HalloWelt {
     public static void main(String[] args) {
         System.out.println("Hallo Welt");
     }
 }
 ----
----

Wie in den vorigen Beispielen können Sie auch hier den Bezeichner `hallowelt` mit Ihrem eigenen Bezeichner ersetzen.
Ferner kann das Listing im AsciiDoc-Text über seine ID referenziert werden:

 <<listing-hallowelt>>

[[literaturverzeichnis]]
=== Literaturverzeichnis

Für Referenzen auf das Literaturverzeichnis müssen alle referenzierten Dokumente jeweils mit einem eigenen Eintrag in der Datei

`/common/bibliography.adoc`

aufgeführt sein.

Beispielsweise muss für die Referenzierung dieses Dokuments folgender Eintrag in die Datei aufgenommen werden.

.Literaturverzeichnis
[id="listing-literaturverzeichnis",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,indent=0]
----
 - [[[Handbuch_fuer_technische_Autoren]]] +
   Handbuch für technische Autoren +
   50_Werkzeuge\Handbuch_fuer_technische_Autoren.pdf
----

Eine Referenz auf die Literatur erfolgt über doppelte spitze Klammerpaare.

 Hier ist das <<Handbuch_fuer_technische_Autoren,Handbuch für technische Autoren>>.

Das Ergebnis sieht so aus:

`Hier ist das <<Handbuch_fuer_technische_Autoren,Handbuch für technische Autoren>>.`

[[glossar]]
=== Glossar

Für Referenzen auf Fachwörter müssen referenzierte Begriffe jeweils mit einem eigenen Eintrag in der Datei

`/common/glossary.adoc`

aufgeführt sein.

Der ID soll mit dem Bezeichner `glossar-` beginnen.
Beispielsweise muss für die Referenzierung des Fachausdrucks `Hallo Welt Beispiel` folgender Eintrag in die Datei `/common/glossary.adoc` aufgenommen werden.

.Glossar
[{id-equals}"listing-glossar",reftext="{listing-caption} {counter:listings }"]
[source,asciidoc,subs="attributes+"]
----
[{id-equals}"glossar-halloweltbeispiel",reftext="Hallo Welt Beispiel"]
Hallo Welt Beispiel:: Ein Hallo Welt Beispiel enthält einen denkbar einfachen Quelltext.
----

Eine Referenz auf einen Begriff des Glossars erfolgt über doppelte spitze Klammerpaare.

 Hier wurde ein <<glossar-halloweltbeispiel, Hallo Welt Beispiel>> verwendet.

Das Ergebnis sieht wie folgt aus:

`Hier wurde ein <<glossar-halloweltbeispiel, Hallo Welt Beispiel>> verwendet.`

[[asccidoc-zu-pdf-html]]
== PDF- und HTML-Dokumente erzeugen

Ist das zu bearbeitende Dokument fertiggestellt, so kann es nun vollständig gerendert und in eine PDF- und HTML-Datei exportiert werden.
Damit die Dokumentation innerhalb des Build-Prozesses gerendert wird, muss die Dokumentation in die `pom.xml` aufgenommen werden.

Die geschieht in zwei Schritten.
Sollte es sich um ein Dokument der zentralen Dokumentation handeln oder um ein Dokument, das eine bestehende Bausteindokumentation erweitert, so kann der erste Schritt <<asciidoc-in-pom-einbinden>>  übersprungen werden.

[[asciidoc-in-pom-einbinden]]
=== Asciidoc in Pom integrieren

Damit überhaupt während des Build-Prozesses Asciidoc-Dateien gerendert werden, muss das Asciidoc-Maven-Plugin in die `pom.xml` aufgenommen werden.
Zudem sind noch weitere Anpassungen nötig, die in den nächsten Abschnitten beschrieben sind.
Zunächst sind mehrere Code-Snippets dargestellt, die in die `pom.xml` integriert werden müssen.

*Neue Properties*

Folgende Properties sind dem Element `<properties></properties>` hinzuzufügen

.Hinzuzufügende Properties
[{id-equals}"listing-pom-properties",reftext="{listing-caption} {counter:listings }"]
[source,xml,subs="attributes+"]
----
<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
<html-output-base-directory>${project.build.directory}/html</html-output-base-directory>
<pdf-output-base-directory>${project.build.directory}/pdf</pdf-output-base-directory>
<maven.build.timestamp.format>dd.MM.yyyy</maven.build.timestamp.format>
----

*Integration Dokumentvorlagen*

Damit die Dokumentvorlagen integriert werden, muss folgendes Plugin dem Element `<build><plugins>...</plugins></build>` hinzugefügt werden.

.Integration Dokumentvorlagen
[{id-equals}"listing-pom-dokumentvorlagen",reftext="{listing-caption} {counter:listings }"]
[source,xml,subs="attributes+"]
----
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-dependency-plugin</artifactId>
    <executions>
        <execution>
            <id>copy-assets</id>
            <phase>generate-sources</phase>
            <goals>
            <goal>unpack</goal>
            </goals>
            <configuration>
                <outputDirectory>${project.build.directory}/isy-dokumentvorlagen</outputDirectory>
                <artifactItems>
                    <artifactItem>
                        <groupId>de.bund.bva.isyfact</groupId>
                        <artifactId>isy-dokumentvorlagen</artifactId>
                        <version>${project.version}</version>
                        <overWrite>true</overWrite>
                    </artifactItem>
                </artifactItems>
            </configuration>
        </execution>
    </executions>
</plugin>
----

*Integration der Skripte unter anderem zur Erstellung von Glossar und Literaturverzeichnis*

Folgendes Plugin muss dem Element `<build><plugins>...</plugins></build>` hinzugefügt werden:

.Integration der Skripte
[{id-equals}"listing-pom-skripte",reftext="{listing-caption} {counter:listings }"]
[source,xml,subs="attributes+"]
----
<plugin>
    <groupId>org.codehaus.mojo</groupId>
    <artifactId>exec-maven-plugin</artifactId>
    <version>1.6.0</version>
    <executions>
        <!-- Erzeugt das Glossar -->
        <execution>
            <id>generate-glossary</id>
            <phase>generate-sources</phase>
            <goals>
                <goal>exec</goal>
            </goals>
            <configuration>
                <executable>bash</executable>
                <workingDirectory>${project.build.directory}/isy-dokumentvorlagen/docs</workingDirectory>
                <arguments>
                    <argument>${project.build.directory}/isy-dokumentvorlagen/scripts/glossary.sh</argument>
                    <argument>${basedir}/src/docs</argument>
                </arguments>
            </configuration>
        </execution>
        <!-- Erzeugt das Literaturverzeichnis -->
        <execution>
            <id>generate-bibliography</id>
            <phase>generate-sources</phase>
            <goals>
                <goal>exec</goal>
            </goals>
            <configuration>
                <executable>bash</executable>
                <workingDirectory>${project.build.directory}/isy-dokumentvorlagen/docs</workingDirectory>
                <arguments>
                    <argument>${project.build.directory}/isy-dokumentvorlagen/scripts/bibliography.sh</argument>
                    <argument>${basedir}/src/docs</argument>
                </arguments>
            </configuration>
        </execution>
        <!-- Erzeugt ... -->
        <execution>
            <id>generate-lists</id>
            <phase>generate-sources</phase>
            <goals>
                <goal>exec</goal>
            </goals>
            <configuration>
                <executable>bash</executable>
                <workingDirectory>${project.build.directory}/isy-dokumentvorlagen/docs</workingDirectory>
                <arguments>
                    <argument>${project.build.directory}/isy-dokumentvorlagen/scripts/listof.sh</argument>
                    <argument>${basedir}/src/docs</argument>
                </arguments>
            </configuration>
        </execution>
        <execution>
            <id>post-process-html</id>
            <phase>process-resources</phase>
            <goals>
                <goal>exec</goal>
            </goals>
            <configuration>
                <executable>bash</executable>
                <workingDirectory>${html-output-base-directory}</workingDirectory>
                <arguments>
                    <argument>${project.build.directory}/isy-dokumentvorlagen/scripts/postprocesshtml.sh</argument>
                </arguments>
            </configuration>
        </execution>
    </executions>
</plugin>
----

*Asciidoc-Maven-Plugin integrieren*
Abschließend wird in die `pom.xml` das Asciidoc-Maven-Plugin integriert, welches das Rendern der Dokumente übernimmt.
Dazu ist folgendes Code-Snippet in das Element `<build><plugins>...</plugins></build>` einzufügen.

.Integration des Asciidoc-Maven-Plugins
[id="listing-pom-asciidoc",reftext="{listing-caption} {counter:listings }"]
[source,xml,subs="attributes+"]
----
 <plugin>
    <groupId>org.asciidoctor</groupId>
    <artifactId>asciidoctor-maven-plugin</artifactId>
    <version>2.0.0-RC.1</version>

    <dependencies>
        <dependency>
            <groupId>org.asciidoctor</groupId>
            <artifactId>asciidoctorj-pdf</artifactId>
            <version>1.5.0-beta.4</version>
        </dependency>
    </dependencies>

    <configuration>
        <outputDirectory>${project.build.directory}</outputDirectory>

        <requires>
            <require>${project.build.directory}/isy-dokumentvorlagen/docs/common/lib/isyfact-admonitions.rb</require>
        </requires>

        <attributes>
            <revnumber>IF-${project.version}</revnumber>
            <revdate>${maven.build.timestamp}</revdate>
            <icons>font</icons>
            <sectanchors>true</sectanchors>
            <!-- set the idprefix to blank -->
            <idprefix/>
            <data-uri/>
            <idseparator>-</idseparator>
            <docinfo1>true</docinfo1>
            <stylesdir>${project.build.directory}/isy-dokumentvorlagen/theme</stylesdir>
            <stylesheet>isyfact.css</stylesheet>
            <pdf-stylesdir>${project.build.directory}/isy-dokumentvorlagen/theme</pdf-stylesdir>
            <pdf-style>isyfact</pdf-style>
            <pdf-fontsdir>${project.build.directory}/isy-dokumentvorlagen/theme/fonts</pdf-fontsdir>
            <version-ifs>2.0.x</version-ifs>
            <isy-dokumentvorlagen>${project.build.directory}/isy-dokumentvorlagen</isy-dokumentvorlagen>
        </attributes>
    </configuration>

    <executions>
        <execution>
            <id>Detailkonzept_Komponente_Datenzugriff-html</id>
            <phase>generate-resources</phase>
            <goals>
                <goal>process-asciidoc</goal>
            </goals>
            <configuration>
                <backend>html</backend>
                <sourceDirectory>
                    src/docs/asciidoc/Detailkonzept_Komponente_Datenzugriff
                </sourceDirectory>
                <sourceDocumentName>master.adoc</sourceDocumentName>
                <outputFile>
                    ${html-output-base-directory}/DetailkonzeptKomponenteDatenzugriff.html
                </outputFile>
            </configuration>
        </execution>
        <execution>
            <id>Detailkonzept_Komponente_Datenzugriff-pdf</id>
            <phase>generate-resources</phase>
            <goals>
                <goal>process-asciidoc</goal>
            </goals>
            <configuration>
                <backend>pdf</backend>
                <sourceDirectory>
                    src/docs/asciidoc/Detailkonzept_Komponente_Datenzugriff
                </sourceDirectory>
                <sourceDocumentName>master.adoc</sourceDocumentName>
                <outputFile>
                    ${pdf-output-base-directory}/Detailkonzept_Komponente_Datenzugriff.pdf
                </outputFile>
            </configuration>
        </execution>
    </executions>

</plugin>
----

Es ist zu beachten, dass die Konfigurationen im Element `<executions></executions>` zu editieren sind.
Dies ist im nächsten Kapitel beschrieben.
Es ist kein Kopieren von Code, wie es in <<listing-pom>> beschrieben ist, nötig.

[[dokument-pom-aufnehmen]]
=== Integration in den Build-Prozess

Jedes Dokument, das während des Build-Prozesses gerendert werden soll, muss dafür in die `pom.xml` aufgenommen werden.
Die `pom.xml` liegt im Root-Verzeichnis der isy-documentation und wird in VS Code im Explorer auf der linken Seite aufgelistet.

:desc-image-pom_oeffnen: Ablageort der pom.xml
[id="image-pom_oeffnen",reftext="{figure-caption} {counter:figures}"]
.{desc-image-pom_oeffnen}
image::handbuch/pom_oeffnen.png[align="center"]

Zum Bearbeiten wird die `pom.xml` mit einem Doppelklick geöffnet.
Anschließend bis zum Element `<executions>` scrollen.
Innerhalb von `<executions></executions>` werden die zu rendernden Dokumente definiert.
Für jedes zu rendernde Dokumente müssen zwei `<execution>`-Elemente vorhanden werden.
Das erste `<execution>`-Element definiert die Erzeugung der HTML-Datei.
Das zweite `<execution>`-Element definiert die Erzeugung der PDF-Datei.

In <<image-pom_editieren>> ist dies anhand des Einstiegsdokuments gezeigt.

.Definition des zu rendernden Dokuments in der pom.xml
[id="image-pom_editieren",reftext="{figure-caption} {counter:figures}"]
image::handbuch/pom_editieren.png[align="center"]

Wenn Sie mit dem Kapitel <<asciidoc-in-pom-einbinden>> begonnen haben, ist das nachfolgende Kopieren von Code nicht nötig.
Sie können direkt mit der Konfigurationsänderung (<<table-pom_parameter>>) fortfahren.
Der einfachste Weg ein weiteres Dokument in die `pom.xml`  aufzunehmen besteht darin, die Definition eines bestehenden Dokuments zu kopieren und anzupassen.
Dies bedeutet im Genauen, dass beispielweise folgender Code-Abschnitt dupliziert wird:

.Zu kopierender Code-Auschnitt
[id="listing-pom",reftext="{listing-caption} {counter:listings }"]
[source,xml,indent=0]
----
<execution>
    <id>IsyFact-Einstieg-html</id>
    <phase>generate-resources</phase>
    <goals>
        <goal>process-asciidoc</goal>
    </goals>
    <configuration>
        <backend>html</backend>
        <sourceDirectory>
            src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Einstieg
        </sourceDirectory>
        <sourceDocumentName>master.adoc</sourceDocumentName>
        <outputFile>
            ${html-output-base-directory}/IsyFact-Standards/Allgemein/IsyFactEinstieg.html
        </outputFile>
    </configuration>
</execution>
<execution>
    <id>IsyFact-Einstieg-pdf</id>
    <phase>generate-resources</phase>
    <goals>
        <goal>process-asciidoc</goal>
    </goals>
    <configuration>
        <backend>pdf</backend>
        <sourceDirectory>
            src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Einstieg
        </sourceDirectory>
        <sourceDocumentName>master.adoc</sourceDocumentName>
        <outputFile>
            ${pdf-output-base-directory}/10_IsyFact-Standards/00_Allgemein/IsyFact-Einstieg.pdf
        </outputFile>
    </configuration>
</execution>
----

Nach dem Kopieren müssen folgende Parameter angepasst werden:

.Anzupassende Parameter
[id="table-pom_parameter",reftext="{table-caption} {counter:tables}"]
[options="header"]
|====
|Parameter|Beschreibung|Beispiel
|<id></id>| Eine eindeutige Kennung des Dokuments. Sollte Aufschluss über das Dokument und das Ausgabeformat geben.| `mein-dokument-pdf` oder `mein-dokument-html`
|<sourceDirectory></sourceDirectory>| Definiert den Pfad zum Verzeichnis in dem die master.adoc Datei liegt,| `src/docs/10_IsyFact-Standards/00_Allgemein/Mein-Dokument`
|<outputFile></outputFile>| Definiert Pfad und Dateinamen der Ausgabedatei. | `${pdf-output-base-directory}/10_IsyFact-Standards/00_Allgemein/Mein-Dokument.pdf`
|====

Anschließend kann der Build-Vorgang ausgeführt und die PDF- und HTML Dokumente erzeugt werden.

[[dokument-rendern]]
=== Gerendertes Dokument erstellen

Um den Build-Vorgang zu starten, wird in der Konsole in das Verzeichnis gewechselt, in dem auch die bearbeitete `pom.xml` liegt.
Anschließend wird mit dem Befehl `mvn install` der Build-Vorgang gestartet.
Aufgrund der Vielzahl der zu rendernden Dokumente und auszuführenden Skripte, kann der Build-Vorgang einige Zeit in Anspruch nehmen.
Für Test-Zwecke können in der `pom.xml` nicht relevante Dokumente übersprungen werden, in dem die zugehörigen Ausführungsdefinitionen (`<execution></execution>`) auskommentiert werden.

==== Fehlerszenarien beim Generieren

.Fehlerszenarien, Ursachen und Lösungen bei der Generierung
[id="table-table-asciidoc-fehler",reftext="{table-caption} {counter:tables}"]
[options="header"]
[cols="3,8a",options="header"]
|====
|Fehler|Mögliche Ursachen und Lösungen
|`OutOfMemoryException` (max. HeapSize exceeded) |
Mögliche Ursache:: Bei der Generierung von PDF-Dokumenten werden Rastergrafiken in ein PNM-Format (PPM, PGM oder PBM) konvertiert.
Dies führt bei Dokumenten mit vielen Grafiken oder Grafiken mit sehr hoher Auflösung zu Speicherproblemen.

Problemlösungen::
. *Vektorgrafiken verwenden:* Bei Vektorgrafiken (z. B. im SVG-Format) entfällt die Konvertierung.
. *Herabsetzen der Auflösung:* Bei Bildern mit einer Auflösung von 2000 Pixeln und mehr (egal ob Länge oder Breite) wird empfohlen, die Auflösung nach Möglichkeit zu reduzieren.
Selbst bei der Verwendung vieler kleinerer Bilder kann es zu einer `OutOfMemoryException` kommen.
Der Grund hierfür ist, dass der vom System zur Verfügung gestellte Speicher nach und nach volläuft.
Tritt der Fehler deswegen auf, sollten Bilder nach Möglichkeit in Vektorgrafiken umgewandelt bzw. neu gezeichnet werden.
|====

[[vorgaben-changelog]]
== Zentralisiertes und automatisiertes Changelog

Jede Komponente eines Projekts und jedes Dokument erhalten eine eigene Changelog-Datei im AsciiDoc-Format (`.adoc`).
Diese Datei wird im Folgenden Komponentenchangelog genannt.
Dadurch können Änderungen nah am Änderungsort dokumentiert werden und Entwickler und Architekten können einzelne Einträge des Changelogs direkt einer Komponente oder einem Dokument zuordnen.
Damit jedoch auch alle Änderungen eines Projekts (Menge aller Komponenten/Dokumente) zentral in einem Dokument zusammengefasst können, wird eine weitere Changelog-Datei im root-Verzeichnis des Projekts angelegt.
Diese Changelog-Datei, im Folgenden Projektchangelog genannt, bindet die einzelnen Changelog-Dateien automatisch und nach Release gruppiert ein.
Auf diese Weise besitzt jedes Projekt ein zentrales Changelog und (je nach Projekt) mehrere dezentrale Komponentenchangelogs ohne die Einträge redundant verwalten zu müssen.

.Zusammenführung der einzelnen Komponentenchangelogs
[id="image-architektur_changelogs",reftext="{figure-caption} {counter:figures}"]
image::handbuch/architektur_changelog.png[align="center",width=80%,pdfwidth=80%]

Zum Erstellen und Bearbeiten wird empfohlen, einen Texteditor zu verwenden, der das AsciiDoc Format unterstützt (siehe Kapitel <<vsc-installieren>>).

Im Folgenden wird beschrieben, wie die einzelnen Changelog-Dateien erstellt und welche Anforderungen an die Struktur und den Inhalt der Changelogs gestellt werden.

[[changelog-anlegen]]
=== Anlegen der Changelog-Dateien

Sowohl der Projektchangelog, als auch der Komponentenchangelog werden mit AsciiDoc erstellt.
Das Dateiformat ist `.adoc`.

[[komponentenchangelog-anlegen]]
==== Komponentenchangelog

Für jede Komponente und jedes AsciiDoc-Dokument (z.B. Nutzungsvorgaben) wird eine eigene AsciiDoc Datei (`changelog.adoc`) erstellt.
Bei Dokumenten wird diese Datei im gleichen Verzeichnis wie das Dokument selbst abgelegt.

.Ablageort des Komponentenchangelog für ein Dokument
[id="image-ablage_komponentenchangelog_dokument",reftext="{figure-caption} {counter:figures}"]
image::handbuch/ablage_komponentenchangelog_dokument.png[align="center",width=60%,pdfwidth=60%]

Bei Komponenten wird diese Datei im root-Verzeichnis der Komponente abgelegt:

.Ablageort des Komponentenchangelog für eine Komponente
[id="image-ablage_komponentenchangelog_komponente",reftext="{figure-caption} {counter:figures}"]
image::handbuch/ablage_komponentenchangelog_komponente.png[align="center",width=60%,pdfwidth=60%]

In die Datei wird die Überschrift "Changelog" eingefügt:

.Komponentenchangelog Inhalt
[id="listing-komponentenchangelog_ueberschrift",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
[[changelog]]
== Changelog
----

[[projektchangelog-anlegen]]
==== Projektchangelog

Die zentrale Projektchangelog-Datei `changelog.adoc` wird im root-Verzeichnis des Projekts abgelegt:

.Ablageort des zentralen Projektchangelogs
[id="image-ablage_projektchangelog",reftext="{figure-caption} {counter:figures}"]
image::handbuch/ablage_projektchangelog.png[align="center",width=60%,pdfwidth=60%]

Initial wird die Datei ebenfalls mit der Überschrift "Changelog" befüllt:

[[struktur-changelog]]
=== Struktur der Changelog-Dateien

Der Aufbau des Projektchangelogs und der Komponentenchangelogs unterscheidet sich und wird im Folgenden erläutert.

[[struktur-komponentenchanglog]]
==== Komponentenchangelog

Der Komponentenchangelog enthält die Changelog-Einträge nach Release gruppiert.
Dazu wird für jedes Release ein eigener Release-Tag definiert:

.Erstellung Release-Tag im Komponentenchangelog
[id="listing-komponentenchangelog_release",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
// tag::release-2.1.0[]

// --> Hier werden die Changelogeinträge für Release 2.1.0 verfasst

// end::release-2.1.0[]


// tag::release-2.0.0[]

// --> Hier werden die Changelogeinträge für Release 2.0.0 verfasst

// end::release-2.0.0[]
----

Jeder Release-Tag enthält die Versionsnummer des Releases und eine entsprechende Überschrift.

Somit ergibt sich folgender Gesamtaufbau des Komponentenchangelogs:

.Gesamtstruktur Komponentenchangelog
[id="listing-komponentenchangelog_gesamt",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
[[changelog]]
== Changelog

*Änderungen IsyFact 2.1.0*

// tag::release-2.1.0[]

// --> Hier werden die Changelogeinträge für Release 2.1.0 verfasst

// end::release-2.1.0[]

*Änderungen IsyFact 2.0.0*

// tag::release-2.0.0[]

// --> Hier werden die Changelogeinträge für Release 2.0.0 verfasst

// end::release-2.0.0[]
----

Die Struktur des Kompontenchangelogs ist damit erfolgreich erstellt.

[[struktur-projektchangelog]]
==== Projektchangelog

Im Projektchangelog sollten nach Möglichkeit keine Changelog-Einträge verfasst, sondern ausschließlich die Komponentenchangelogs eingebunden werden.
Dazu wird für jedes Release ein eigener Abschnitt erstellt:

.Erstellung Release
[id="listing-projektchangelog_release",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
=== Änderungen IsyFact 2.1.0

// Beginn Übergreifende Änderungen

// Ende übergreifende Änderungen

----

Jeder Abschnitt enthält die Versionsnummer des Releases.

Unterhalb der Release Definition ist der Platz für die Beschreibung von komponentenübergreifenden Änderungen vorbehalten, die nicht einzelnen Komponenten zugeordnet werden können.
Dieses direkte Einfügen von Einträgen in das Projektchangelog sollte nur in Ausnahmefällen geschehen (siehe Kapitel <<inhalt-projektchangelog>>.

Anschließend werden die Komponentenchangelogs in das Projektchangelog eingebunden.
Dazu wird für jedes Release nur der mit dem Release getaggte Abschnitt der Komponentenchangelogs importiert:

.Einbindung der Komponentenchangelogs
[id="listing-projektchangelog_einbindung_komponentenchangelog",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
=== Änderungen IsyFact 2.1.0

// Beginn Übergreifende Änderungen

// Ende übergreifende Änderungen

\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Einstieg/changelog.adoc[tag=release-2.1.0]
\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Glossar/changelog.adoc[tag=release-2.1.0]
...
----

Mehrere Releases werden wie folgt angelegt:

.Gesamtstruktur Projektchangelog
[id="listing-projektchangelog_einbindung_releases",reftext="{listing-caption} {counter:listings }"]
[source,adoc]
----
[[changelog]]
== Changelog

=== Änderungen IsyFact 2.1.0

// Beginn Übergreifende Änderungen

// Ende übergreifende Änderungen

\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Einstieg/changelog.adoc[tag=release-2.1.0]
\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Glossar/changelog.adoc[tag=release-2.1.0]
...

=== Änderungen IsyFact 2.0.0

// Beginn Übergreifende Änderungen

// Ende übergreifende Änderungen

\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Einstieg/changelog.adoc[tag=release-2.0.0]
\include::src/docs/10_IsyFact-Standards/00_Allgemein/IsyFact-Glossar/changelog.adoc[tag=release-2.0.0]
...
----

[[inhalt-changlog]]
=== Inhalt der Changelog-Dateien

Diese Kapitel beschreibt die Anforderungen an den Inhalt einzelner Changelogeinträge.
Changelogs sollen den Entwicklern von IsyFact-Anwendungen Mitgrationsanleitungen liefern, um von einer älteren IsyFact Version auf eine neuere einfach und schnell wechseln zu können.
Damit der Changelog diesen Zweck erfüllt, ist es wichtig, dass sowohl die Entscheidung zur Erstellung eines Changelogeintrags, als auch der Inhalt des Eintrags mit Bedacht gewählt wird.

[[inhalt-komponentenchangelog]]
==== Komponentenchangelog

In diesen Fällen sollte *immer ein* Changelogeintrag erstellt werden:

* Sicherheitspatches
* Datenbankänderungen
* Jede Änderung, die der Entwickler und/oder Endanwender von IsyFact-Anwendungen wahrnimmt (Schnittstellenänderungen, neue Funktionen...)
* Performanceverbesserungen

In diesen Fällen sollte *kein* Changelogeintrag erstellt werden:

* Änderungen, die *nur* die Dokumentation betreffen (z.B. Rechtschreibfehler)
* Änderungen, die *nur* Entwickler der IsyFact adressieren (z.B. Refactoring, Unit-Tests)
* Fix eines Bugs, der durch eine vorherige Änderung im selben Release erzeugt wurde

Folgende Anforderungen gelten für den Inhalt eines Changelogeintrags:

* Keine Ticketnummern
* Keine Kopie der Ticketbeschreibung
* Kurz und prägnant
* Erläutert, was geändert wurde und wieso es geändert wurde
* Enthält weniger Implementierungsdetails, sondern vielmehr das Endresultat
* Enthält kurze Migrationsanleitung (falls nötig, ggfs. mit Implementierungsdetails)

*Aufbau*

Der Changelogeintrag sollte wie folgt aufgebaut sein:

. Kurze und prägnante Beschreibung der Änderung
. Migrationsanleitung von einer älteren Version der IsyFact auf die aktuelle Version


[[inhalt-projektchangelog]]
==== Projektchangelog

Der Projektchangelog kann komponentenübergreifende Changelogeinträge aufnehmen, wenn folgende Bedingungen erfüllt sind:

* Der Changelogeintrag kann nicht einer Komponente zugewiesen werden

und

* Der Changelogeintrag beschreibt eine Änderung, die eine Migrationsanleitung benötigt

An die Changelogeintrag gelten die in Kapitel <<inhalt-komponentenchangelog>> beschriebenen Anforderungen.
Komponentenübergreifende Einträge sind dem gekennzeichneten Bereich hinzuzufügen (vgl. <<listing-projektchangelog_einbindung_komponentenchangelog>>).
// end::inhalt[]
